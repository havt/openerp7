<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    
		<record model="ir.module.category" id="module_category_kderp_general_expense">
	      	<field name="name">KDERP General Expense</field>
	       	<field name="sequence">300</field>
		</record>
		
		<!-- Group Allow Open and Close General Expense -->
		<record id="group_kderp_general_expense_open" model="res.groups">
	       	<field name="name">KDERP - General Expense @ Open for Revising</field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_general_expense_admin" model="res.groups">
	       	<field name="name">KDERP - General Expense @ Submit, Reject</field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_general_expense_haiphong" model="res.groups">
	       	<field name="name">KDERP - General Expense / Hai Phong </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_general_expense_read" model="res.groups">
	       	<field name="name">KDERP - General Expense / Read </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_general_expense_write" model="res.groups">
	       	<field name="name">KDERP - General Expense / Write </field>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_general_expense_create" model="res.groups">
	       	<field name="name">KDERP - General Expense / Create </field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
	   <record id="group_kderp_general_expense_delete" model="res.groups">
	       <field name="name">KDERP - General Expense / Delete </field>
	       <field name="category_id" ref="module_category_kderp_general_expense"/>
	       <field name="users" eval="[(4, ref('base.user_root'))]"/>
	   </record>
	   
	   <record id='group_kderp_general_expense_full' model='res.groups'>
	        <field name='name'>KDERP - General Expense / Full</field>
	        <field name="category_id" ref="module_category_kderp_general_expense"/>
	        <field name="implied_ids" eval="[(4, ref('group_kderp_general_expense_read')),
	          								(4, ref('group_kderp_general_expense_write')),
	        								(4, ref('group_kderp_general_expense_create')),
	        								(4, ref('group_kderp_general_expense_delete'))]"/>
  	   </record>
  	   
  	   <record id="group_kderp_general_supplier_payment_expense_haiphong" model="res.groups">
	       	<field name="name">KDERP - Supplier Payment General Expense / Hai Phong </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_supplier_payment_general_expense_read" model="res.groups">
	       	<field name="name">KDERP - Supplier Payment General Expense / Read </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_supplier_payment_general_expense_write" model="res.groups">
	       	<field name="name">KDERP - Supplier Payment General Expense / Write </field>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_supplier_payment_general_expense_create" model="res.groups">
	       	<field name="name">KDERP - Supplier Payment General Expense / Create </field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
	   <record id="group_kderp_supplier_payment_general_expense_delete" model="res.groups">
	       <field name="name">KDERP - Supplier Payment General Expense / Delete </field>
	       <field name="category_id" ref="module_category_kderp_general_expense"/>
	       <field name="users" eval="[(4, ref('base.user_root'))]"/>
	   </record>
	   
	   <record id='group_kderp_supplier_payment_general_expense_full' model='res.groups'>
	        <field name='name'>KDERP - Supplier Payment General Expense / Full</field>
	        <field name="category_id" ref="module_category_kderp_general_expense"/>
	        <field name="implied_ids" eval="[(4, ref('group_kderp_supplier_payment_general_expense_read')),
	          								(4, ref('group_kderp_supplier_payment_general_expense_write')),
	        								(4, ref('group_kderp_supplier_payment_general_expense_create')),
	        								(4, ref('group_kderp_supplier_payment_general_expense_delete'))]"/>
  	   </record>
  	   
  	   <record id="group_kderp_general_expense_job" model="res.groups">
			 <field name="name">KDERP - General Expense Job</field>
			 <field name="users" eval="[(4, ref('base.user_root'))]"/>
	         <field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_general_expense_department" model="res.groups">
			 <field name="name">KDERP - General Expense Department</field>
			 <field name="users" eval="[(4, ref('base.user_root'))]"/>
	         <field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
	    <record model="ir.rule" id="kderp_rule_general_expense_job">
			<field name="name">KDERP General Expense Job</field>
			<field name="model_id" ref="kderp_other_expense.model_kderp_other_expense"/>
			<field name="global" eval="False"/>
	    	<field name="domain_force">[('allocated_to','=','PGE')]</field>
	   		<field eval="[(6,0,[ref('group_kderp_general_expense_job')])]" name="groups"/>
	    </record>
	    
	    <record model="ir.rule" id="kderp_rule_general_expense_depaterment">
			<field name="name">KDERP General Expense Department</field>
			<field name="model_id" ref="kderp_other_expense.model_kderp_other_expense"/>
			<field name="global" eval="False"/>
	    	<field name="domain_force">[('id','in',"(select koe.id  from kderp_other_expense koe left join  hr_department hd on  koe.section_incharge_id =hd.id left join hr_employee he on he.department_id = hd.id left join resource_resource  rr on rr.id = he.resource_id where rr.user_id = %s)")]</field>
	   		<field eval="[(6,0,[ref('group_kderp_general_expense_department')])]" name="groups"/>
	    </record>
	    
	    <record id="group_kderp_department_read" model="res.groups">
	       	<field name="name">KDERP - Department / Read </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_department_write" model="res.groups">
	       	<field name="name">KDERP - Department / Write </field>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_department_create" model="res.groups">
	       	<field name="name">KDERP - Department / Create </field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
	   <record id="group_kderp_department_delete" model="res.groups">
	       <field name="name">KDERP - Department / Delete </field>
	       <field name="category_id" ref="module_category_kderp_general_expense"/>
	       <field name="users" eval="[(4, ref('base.user_root'))]"/>
	   </record>
	   
	   <record id='group_kderp_supplier_department_full' model='res.groups'>
	        <field name='name'>KDERP - Department / Full</field>
	        <field name="category_id" ref="module_category_kderp_general_expense"/>
	        <field name="implied_ids" eval="[(4, ref('group_kderp_department_read')),
	          								(4, ref('group_kderp_department_write')),
	        								(4, ref('group_kderp_department_create')),
	        								(4, ref('group_kderp_department_delete'))]"/>
  	   </record>
  	   
  	    <record id="group_kderp_yearly_budget_read" model="res.groups">
	       	<field name="name">KDERP - Yearly Budget / Read </field>
	      	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
		<record id="group_kderp_yearly_budget_write" model="res.groups">
	       	<field name="name">KDERP - Yearly Budget / Write </field>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
		</record>
		
		<record id="group_kderp_yearly_budget_create" model="res.groups">
	       	<field name="name">KDERP - Yearly Budget / Create </field>
	       	<field name="category_id" ref="module_category_kderp_general_expense"/>
	       	<field name="users" eval="[(4, ref('base.user_root'))]"/>
		</record>
		
	   <record id="group_kderp_yearly_budget_delete" model="res.groups">
	       <field name="name">KDERP - Yearly Budget / Delete </field>
	       <field name="category_id" ref="module_category_kderp_general_expense"/>
	       <field name="users" eval="[(4, ref('base.user_root'))]"/>
	   </record>
	   
	   <record id='group_kderp_yearly_budget_full' model='res.groups'>
	        <field name='name'>KDERP - Yearly Budget / Full</field>
	        <field name="category_id" ref="module_category_kderp_general_expense"/>
	        <field name="implied_ids" eval="[(4, ref('group_kderp_yearly_budget_read')),
	          								(4, ref('group_kderp_yearly_budget_write')),
	        								(4, ref('group_kderp_yearly_budget_create')),
	        								(4, ref('group_kderp_yearly_budget_delete'))]"/>
  	   </record>
    </data>
</openerp>
